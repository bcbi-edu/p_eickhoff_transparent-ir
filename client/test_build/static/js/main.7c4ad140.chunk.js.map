{"version":3,"sources":["components/Util.js","components/SearchBar.js","App.js","serviceWorker.js","index.js"],"names":["getOptions","id","results","maxFound","i","length","result","weights","tot","key","Math","abs","round","max","opts","scales","xAxes","stacked","ticks","beginAtZero","ceil","display","gridLines","show","color","yAxes","maintainAspectRatio","legend","onClick","e","stopPropagation","tooltips","enabled","mode","createDataSet","query","colors","barData","splitQuery","replace","trim","split","Object","toConsumableArray","Set","lowerKey","toLowerCase","push","label","data","backgroundColor","borderColor","borderWidth","datasets","SearchBar","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleDescription","text","event","title","map","s","charAt","toUpperCase","substring","join","toTitleCase","description","strings","arr","str","slice","capitalizeFirstLetter","setState","isResults","preventDefault","handleFavorites","links","state","has","delete","add","value","getRandomColor","submitted","lastQuery","handleChange","bind","assertThisInitialized","handleSubmit","handleBack","target","_this2","val","axios","get","concat","then","res","descriptions","updateJson","desc","react_default","a","createElement","Button","bsStyle","getStarStyles","bsSize","Glyphicon","glyph","_this3","className","r","renderButton","es","options","width","height","oldData","newData","sortable","key_id","w","sort","b","unshift","dict","words","random","g","onSubmit","type","onChange","style","renderResults","React","Component","App","handleClick","startTime","ref","createRef","Date","console","log","currTime","diff","Array","from","current","body","window","confirm","post","location","components_SearchBar","Boolean","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7c4ad140.chunk.js","sourcesContent":["function getOptions(id, results) {\n    var maxFound = 0.0;\n    for (var i=0; i<results.length; i++) {\n        var result = results[i].weights;\n        var tot = 0.0;\n        for (var key in result) {\n        tot += result[key];\n        tot += Math.abs(Math.round(100*result[key])/100)\n\n        }\n        maxFound = Math.max(maxFound, tot);\n    }\n    \n    \n    var opts = {\n      scales: {\n        xAxes: [{\n          stacked: true,\n          // ticks: {beginAtZero:true,max:tot, autoskip: true},\n          ticks: {beginAtZero:true,max:Math.ceil(maxFound), display: false},\n        // ticks: {beginAtZero:true,max:20, display: false},\n          gridLines: {\n            display: false,\n            show: false,\n            color: 'transparent'\n          },\n        }],\n        yAxes: [{\n            stacked: true,\n            gridLines: {\n                display: false,\n                show: false,\n                color: 'transparent'\n              },\n        }]\n      },\n      maintainAspectRatio: false,\n      legend: {\n        display: false,\n        onClick: (e) => e.stopPropagation()\n      },\n      tooltips: {\n          enabled: true,\n          mode: 'nearest'\n      },\n    }\n    if (id === 0) {\n        opts.legend.display = true;\n    }\n    return opts;\n  }\n  \nfunction getHeight(id) {\n    if (id === 0) {\n        return 100;\n    } else {\n        return 55;\n    }\n}\n\nfunction createDataSet(query, weights, colors) {\n  var barData = [];\n  var stripQuery = query.replace(/\\b[-.,()&$#?!\\]{}\"']+\\B|\\B[-.,()&$#!?\\]{}\"']+\\b/g, \"\");\n  // console.log(\"STRIPPED\", stripQuery);\n  var splitQuery = stripQuery.trim().split(\" \");\n  splitQuery = [...new Set(splitQuery)]; \n  for(var i=0; i<splitQuery.length; i++) {\n    if (splitQuery[i] === \" \" || splitQuery[i] === \"\") {\n      continue;\n    }\n    // console.log(\"WORD\", splitQuery[i]);\n    // var lowerKey = key.toLowerCase();\n    var lowerKey = splitQuery[i].toLowerCase();\n    barData.push({\n      label: lowerKey,\n      data: [Math.abs(Math.round(100*weights[splitQuery[i]])/100)],\n      // data: [weights[splitQuery[i]]],\n      backgroundColor: [colors[lowerKey]],\n      borderColor: ['rgba(0,0,0,0)',],\n      borderWidth: 2,\n    })\n  }\n  return {datasets: barData};\n}\n\nfunction toTitleCase(text) {\n  return text.toLowerCase()\n    .split(' ')\n    .map((s) => s.charAt(0).toUpperCase() + s.substring(1))\n    .join(' ');\n}\n\nfunction capitalizeFirstLetter(strings) {\n  var arr = [];\n  for (var i=0; i<strings.length; i++) {\n    var str = strings[i].trim()\n    arr.push(str.charAt(0).toUpperCase() + str.slice(1));\n  }\n  return arr;\n}\n\n\nexport { getOptions, getHeight, createDataSet, toTitleCase , capitalizeFirstLetter}\n","import React from 'react';\n// import Suggestions from './Suggestions';\nimport {HorizontalBar} from 'react-chartjs-2';\nimport {getOptions, getHeight, createDataSet, toTitleCase, capitalizeFirstLetter} from './Util';\nimport axios from 'axios'\nimport './Styles.css';\nimport { Button, Glyphicon } from 'react-bootstrap';\n\n\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      colors: this.getRandomColor(\"\"),\n      submitted: false,\n      data: [],\n      lastQuery: \"\",\n      isResults: true,\n      title: \"\",\n      text: \"\",\n      links: new Set()\n      // links :['test']\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit =  this.handleSubmit.bind(this);\n    this.handleDescription = this.handleDescription.bind(this);\n    this.handleBack = this.handleBack.bind(this);\n    this.handleFavorites = this.handleFavorites.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleSubmit(event) {\n    const val = this.state.value;\n    var colors = this.getRandomColor(val)\n    axios.get(`http://localhost:8080/search?name=${this.state.value}`)\n      .then(res => {\n        const data = res.data.data;\n        const descriptions = res.data.descriptions\n        this.setState({ \n          data: this.updateJson(data, descriptions),\n          // value: \"\",\n          submitted: true,\n          colors: colors,\n          lastQuery: val,\n          isResults: true,\n          desc: \"\"\n        });\n        if (data === {}) {\n          this.setState({\n            submitted: false\n          })\n        }\n      })\n    event.preventDefault();\n  }\n\n\n  handleDescription = (text) => (event) => {\n    var split = text.split(\" . \");\n    var title = toTitleCase(split[0]);\n    // var title = split[0];\n    var description = capitalizeFirstLetter(split.slice(2,-1)).join(\". \") + \".\";\n    this.setState({\n      isResults: false,\n      title: title,\n      text: description,\n    })\n    event.preventDefault();\n  }\n\n  //go back to main search results\n  handleBack(event) {\n    this.setState({\n      isResults: true,\n      title: \"\",\n      text: \"\"\n    })\n    event.preventDefault();\n  }\n\n  //add favorite links\n  handleFavorites = (title) => (event) => {\n    var links = this.state.links;\n    if (links.has(title)) {\n      links.delete(title);\n    } else {\n      links.add(title);\n    }\n    this.setState({\n      links: links\n    });\n    // console.log(this.state.links);\n    event.preventDefault();\n  }\n\n  getStarStyles(title) {\n    var links = this.state.links;\n    if (links.has(title)) {\n      return 'warning';\n    } else { \n      return 'primary';\n    }\n  }\n\n  // applyBold(description) {\n  //   var words = description.split(\" \");\n  //   const query = this.state.query;\n  //   let desc = [];\n  //   for (var i=0; i<words.length;i++) {\n  //     for \n  //     var word = words[i];\n  //     if (query.includes(word)) {\n  //       query.push(<strong>{word}</strong>);\n  //     } else {\n  //       query.push(word);\n  //     }\n  //   }\n  // return (<p>{desc}</p>);\n  // }\n\n  renderButton(title) {\n    if (title !== \"\") {\n      return(\n        <Button\n          onClick={this.handleFavorites(title)}\n          bsStyle={this.getStarStyles(title)}\n          bsSize=\"xsmall\"\n        >\n          <Glyphicon glyph=\"star\" />\n        </Button>\n      );\n    }\n  }\n\n  renderResults() {\n    if (this.state.data.length === 1) {\n      return (\n      <ul className=\"search-results\">\n        <li key={0}>\n          <section className=\"container\">\n            <div className=\"noResult\">\n              <p>{\"No results found\"}</p>\n            </div>\n          </section>\n        </li>\n      </ul>\n      )\n    }\n    if (this.state.isResults){\n      return (\n        <ul className=\"search-results\">\n          {\n            this.state.data.map(r => (\n              <li key={r.id}>\n              <section className=\"container\">\n                <div className=\"star\">\n                  {this.renderButton(r.title)}\n                </div>\n                <div className=\"one\">\n                  <p className=\"results\" onClick={this.handleDescription(r.description)}>{r.title}</p>\n                  <p>{r.description.replace(/(([^\\s]+\\s\\s*){50})(.*)/,\"$1…\") /* first 50 words*/}</p> \n                </div>\n                <div className=\"two\">\n                  <HorizontalBar data={createDataSet(this.state.lastQuery, r.weights,this.state.colors)} options={getOptions(r.id, this.state.data)} width={.1} height={getHeight(r.id)}/>\n                </div>\n                <div className=\"clear\"></div>\n              </section>   \n              </li>\n            ))\n          }\n          </ul>\n      )\n    } else {\n      return(\n        <div className=\"text-container\">\n          <button onClick={this.handleBack}>\n            Back\n          </button>\n          <h3>{this.state.title}</h3>\n          <p>{this.state.text}</p> \n        </div>\n      )\n    }\n  }\n  updateJson(data, descriptions) {\n    var oldData = data;\n    var newData = [];\n    var id = 1;\n    var sortable = [];\n\n    //sort based on highest values\n    var key_id = 0;\n    for (var key in oldData) {\n      var weights = oldData[key];\n      var tot = 0.0;\n      for (var w in weights) {\n        weights[w] = Math.abs(Math.round(100*weights[w])/100)\n        tot += weights[w];\n      }\n      sortable.push([key, tot, descriptions[key_id]]);\n      key_id++;\n    }\n\n    //sort based on weights\n    sortable.sort(function(a, b) {\n      return b[1] - a[1];\n    });\n    for (var i=0; i<sortable.length; i++) {\n      newData.push({\n        \"id\": id++,\n        \"title\": sortable[i][0],\n        \"description\": sortable[i][2],\n        \"weights\": oldData[sortable[i][0]]\n      })\n    }\n    //insert empty index for first index\n    newData.unshift({\n      \"id\": 0,\n      \"title\": \"\",\n      \"description\": \"\",\n      \"weights\": {}\n    })\n    return newData;\n  }\n\n  //get random colors for bar graph\n  getRandomColor(query) {\n    var dict = {};\n    var splitQuery = query.toLowerCase();\n    var words = splitQuery.split(\" \");\n    words = [...new Set(words)]; \n    for(var i = 0; i<words.length; i++) {\n      var r = Math.round(Math.random() * 255);\n      var g = Math.round(Math.random() * 255);\n      var b = Math.round(Math.random() * 255);\n      dict[words[i]] = 'rgba(' + r + ',' + g + ',' + b + ',1)';\n    }\n    return dict;\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"search\">\n          <form onSubmit={this.handleSubmit}>\n            <label>\n              <input type=\"text\" value={this.state.value} onChange={this.handleChange} style={{width: \"400px\", height: \"25px\"}}/>\n            </label>\n            <input type=\"submit\" value=\"Search\" style={{width: \"75px\", height: \"25px\"}}/>\n          </form>\n        </div>\n        {this.state.submitted && this.renderResults()}\n      </div>\n      \n    );\n  }\n}\n\nexport default SearchBar;","import React from 'react';\nimport SearchBar from './components/SearchBar';\nimport './components/Styles.css';\nimport axios from 'axios'\n\n// function getParameterByName(name, url) {\n//   if (!url) url = window.location.href;\n//   name = name.replace(/[\\[\\]]/g, '\\\\$&');\n//   var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n//     results = regex.exec(url);\n//   if (!results) return null;\n//   if (!results[2]) return '';\n//   return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n// }\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n    this.startTime = null;\n    this.ref = React.createRef();\n  }\n\n  componentWillMount() {\n    var startTime = new Date();\n    console.log(\"START TIME\", startTime);\n    this.setState({\n      startTime: startTime\n    })\n  }\n\n  handleClick(event) {\n    // var id = getParameterByName('id');\n    var id = 'none';\n    axios.get(`http://localhost:9000/id`)\n    .then(res => {\n      id = res.data;\n      var currTime = new Date();\n      var diff = Math.abs(currTime - this.state.startTime)\n      var links = Array.from(this.ref.current.state.links);\n      var body = {\n        id: id,\n        links: links\n      }\n      console.log(links);\n      if (window.confirm(\"Are you finished with the study? (After you hit confirm, you are not allowed to return back to this page)\")) {\n        console.log(body)\n        axios.post(`http://localhost:9000/links`, body)\n        .then(res => {\n        \n        window.location = `/exit-form?id=${id}&time=${diff}`;\n        })\n      }\n    })\n    \n    event.preventDefault();\n  }\n  render() {\n    return (\n      <div className=\"app\">\n        <h1 className=\"title\">Search Engine</h1>\n        <button onClick={this.handleClick}>Finished with Study</button>\n        <SearchBar ref={this.ref}/>\n      </div>\n\n    );\n  }\n  \n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}