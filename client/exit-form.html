<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <title>Instructions</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <style>
        body {
          /* padding: 15px; */
          padding-bottom: 100px;
          padding-top: 100px;
        }
        h3 {
            font-size: 2em;
            font-weight: bold;
        }
        p {
            font-size: 1.5em
        }
        li {
            font-size: 1.5em
        }
        b {
          color: #F44335
        }
        label {
          font-weight: bold;
        }
        .input-field>input {
            margin-top: 10px !important;
        }
        .container {
            width: 50% !important;
        }
        #instruction-container>p {
            margin-top: 3px;
            margin-bottom: 3px;
        }
        .row {
          margin-top: 30px;
        }
        .form-group {
          margin-top: 30px
        }
        .form-check-label {
          font-weight: normal;
        }
    </style>
    <script type="text/javascript">
    function getParameterByName(name, url) {
  if (!url) url = window.location.href;
  name = name.replace(/[\[\]]/g, '\\$&');
  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
    results = regex.exec(url);
  if (!results) return null;
  if (!results[2]) return '';
  return decodeURIComponent(results[2].replace(/\+/g, ' '));
}
</script>
</head>

<body style="overflow: auto;">
  <div id="panel">
    <div id="prepare" class="container">
      <h3>Exit Survey</h3>
      <p>All questions are required. Earn a bonus of $1.00 by giving good, 2-3 sentence answers for each question!</p>
      <!-- <form onsubmit="event.preventDefault(); handleSubmit();"> -->
      <form method="post" action="success">
        <div class="form-group">
          <div class="form-check">
              <input type="hidden" name="id" value="bar" id="id"/>
              <input type="hidden" name="time" value="0" id="time"/>
              <script>
                function getParameterByName(name, url) {
                  if (!url) url = window.location.href;
                  name = name.replace(/[\[\]]/g, '\\$&');
                  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                    results = regex.exec(url);
                  if (!results) return null;
                  if (!results[2]) return '';
                  return decodeURIComponent(results[2].replace(/\+/g, ' '));
                }
                var id = getParameterByName('id');
                var time = getParameterByName('time');
                $('#id').attr('value', id);
                $('#time').attr('value', time);
              </script>
            </div>
        </div>
        <div class="form-group">
          <label>Do you have a driver's license?</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="license" id="license-yes" value=yes required>
            <label class="form-check-label" for="license-yes">
              Yes
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="license" id="license-no" value=no required>
            <label class="form-check-label" for="license-no">
              No
            </label>
          </div>
        </div>
        <div class="form-group">
          <label>How submissive or aggressive was the other car's driving behavior?</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="sdc-sub-agro" id="sdc-sub-agro-1" value=1 required>
            <label class="form-check-label" for="sdc-sub-agro-1">
              1 (Submissive)
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="sdc-sub-agro" id="sdc-sub-agro-2" value=2 required>
            <label class="form-check-label" for="sdc-sub-agro-2">
              2
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="sdc-sub-agro" id="sdc-sub-agro-3" value=3 required>
            <label class="form-check-label" for="sdc-sub-agro-3">
              3
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="sdc-sub-agro" id="sdc-sub-agro-4" value=4 required>
            <label class="form-check-label" for="sdc-sub-agro-4">
              4
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="sdc-sub-agro" id="sdc-sub-agro-5" value=5 required>
            <label class="form-check-label" for="sdc-sub-agro-5">
              5 (Aggressive)
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>How submissive or aggressive was your driving behavior?</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="hum-sub-agro" id="hum-sub-agro-1" value=1 required>
            <label class="form-check-label" for="hum-sub-agro-1">
              1 (Submissive)
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="hum-sub-agro" id="hum-sub-agro-2" value=2 required>
            <label class="form-check-label" for="hum-sub-agro-2">
              2
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="hum-sub-agro" id="hum-sub-agro-3" value=3 required>
            <label class="form-check-label" for="hum-sub-agro-3">
              3
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="hum-sub-agro" id="hum-sub-agro-4" value=4 required>
            <label class="form-check-label" for="hum-sub-agro-4">
              4
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="hum-sub-agro" id="hum-sub-agro-5" value=5 required>
            <label class="form-check-label" for="hum-sub-agro-5">
              5 (Aggressive)
            </label>
          </div>
        </div>

        <div class="row">
          <div class="col-12 text-center">
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</body>


<!-- <script>
function handleSubmit() {
  let expname = getUrlParameter('expname');
  let reward = getUrlParameter('reward');
  let workerID = getUrlParameter('id');
  let secretID = getUrlParameter('sid');
  let data = {
    timestamp: Date.now(),
    experiment: expname,
    total_reward: reward,
    workerID: workerID,
    secretID: secretID,
    license: $('input[name=license]:checked').val(),
    drive_freq: $('input[name=drive-freq]:checked').val(),
    hours_gamed: $('#hours-gamed').val(),
    purpose: $('#purpose').val(),
    sdc_behavior: $('#sdc-behavior').val(),
    sdc_change_hum_behavior: $('#sdc-change-hum-behavior').val(),
    sdc_fair: $('input[name=sdc-fair]:checked').val(),
    hum_fair: $('input[name=hum-fair]:checked').val(),
    share_feelings: $('#feelings').val(),
    sdc_sub_agro: $('input[name=sdc-sub-agro]:checked').val(),
    hum_sub_agro: $('input[name=hum-sub-agro]:checked').val(),
  };
  postData(JSON.stringify(data));
  window.location.href = `/success?reward=${reward}&sid=${secretID}`;
}
function postData(data) {
  var request = new XMLHttpRequest();
  request.open(
    'POST',
    'https://api.mlab.com/api/1/databases/exit-survey/collections/pilot?apiKey=cZMocgseoJQoET6o9ZpAd3lJ_lY9TJjR',
    false,
  );
  request.setRequestHeader('Content-Type', 'application/json');
  request.send(data);
}
var getUrlParameter = function getUrlParameter(sParam) {
  var sPageURL = decodeURIComponent(window.location.search.substring(1)),
    sURLVariables = sPageURL.split('&'),
    sParameterName,
    i;
  for (i = 0; i < sURLVariables.length; i++) {
    sParameterName = sURLVariables[i].split('=');
    if (sParameterName[0] === sParam) {
      return sParameterName[1] === undefined ? true : sParameterName[1];
    }
  }
};
</script> -->