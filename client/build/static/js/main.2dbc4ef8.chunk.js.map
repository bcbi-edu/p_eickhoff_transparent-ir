{"version":3,"sources":["components/Util.js","components/SearchBar.js","App.js","serviceWorker.js","index.js"],"names":["getOptions","id","results","maxFound","i","length","result","weights","tot","key","Math","abs","round","max","opts","scales","xAxes","stacked","ticks","beginAtZero","ceil","display","gridLines","show","color","yAxes","maintainAspectRatio","legend","onClick","e","stopPropagation","tooltips","enabled","mode","createDataSet","query","colors","barData","splitQuery","replace","trim","split","Object","toConsumableArray","Set","lowerKey","toLowerCase","push","label","data","backgroundColor","borderColor","borderWidth","datasets","SearchBar","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleDescription","text","event","title","map","s","charAt","toUpperCase","substring","join","toTitleCase","description","strings","arr","str","slice","capitalizeFirstLetter","setState","isResults","preventDefault","handleFavorites","links","state","has","delete","set","value","getRandomColor","submitted","lastQuery","Map","handleChange","bind","assertThisInitialized","handleSubmit","handleBack","target","_this2","val","axios","get","concat","then","res","descriptions","updateJson","desc","react_default","a","createElement","Button","bsStyle","getStarStyles","bsSize","Glyphicon","glyph","_this3","newLinks","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","_ref3","_ref2","slicedToArray","k","v","err","return","j","className","BurgerMenu","width","r","renderButton","_this4","es","options","height","oldData","newData","sortable","key_id","w","sort","b","unshift","dict","words","random","g","onSubmit","type","onChange","style","renderSideBar","renderResults","React","Component","App","handleClick","startTime","ref","createRef","session","numCorrect","name","url","window","location","href","RegExp","exec","decodeURIComponent","getParameterByName","alert","Date","console","log","confirm","currTime","diff","Array","from","current","body","post","components_SearchBar","Boolean","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"qRAAA,SAASA,EAAWC,EAAIC,GAEpB,IADA,IAAIC,EAAW,EACNC,EAAE,EAAGA,EAAEF,EAAQG,OAAQD,IAAK,CACjC,IAAIE,EAASJ,EAAQE,GAAGG,QACpBC,EAAM,EACV,IAAK,IAAIC,KAAOH,EAChBE,GAAOF,EAAOG,GACdD,GAAOE,KAAKC,IAAID,KAAKE,MAAM,IAAIN,EAAOG,IAAM,KAG5CN,EAAWO,KAAKG,IAAIV,EAAUK,GAIlC,IAAIM,EAAO,CACTC,OAAQ,CACNC,MAAO,CAAC,CACNC,SAAS,EAETC,MAAO,CAACC,aAAY,EAAKN,IAAIH,KAAKU,KAAKjB,GAAWkB,SAAS,GAE3DC,UAAW,CACTD,SAAS,EACTE,MAAM,EACNC,MAAO,iBAGXC,MAAO,CAAC,CACJR,SAAS,EACTK,UAAW,CACPD,SAAS,EACTE,MAAM,EACNC,MAAO,kBAIjBE,qBAAqB,EACrBC,OAAQ,CACNN,SAAS,EACTO,QAAS,SAACC,GAAD,OAAOA,EAAEC,oBAEpBC,SAAU,CACNC,SAAS,EACTC,KAAM,YAMZ,OAHW,IAAPhC,IACAa,EAAKa,OAAON,SAAU,GAEnBP,EAWX,SAASoB,EAAcC,EAAO5B,EAAS6B,GACrC,IAAIC,EAAU,GAGVC,EAFaH,EAAMI,QAAQ,mDAAoD,IAEvDC,OAAOC,MAAM,KACzCH,EAAUI,OAAAC,EAAA,EAAAD,CAAO,IAAIE,IAAIN,IACzB,IAAI,IAAIlC,EAAE,EAAGA,EAAEkC,EAAWjC,OAAQD,IAChC,GAAsB,MAAlBkC,EAAWlC,IAAgC,KAAlBkC,EAAWlC,GAAxC,CAKA,IAAIyC,EAAWP,EAAWlC,GAAG0C,cAC7BT,EAAQU,KAAK,CACXC,MAAOH,EACPI,KAAM,CAACvC,KAAKC,IAAID,KAAKE,MAAM,IAAIL,EAAQ+B,EAAWlC,KAAK,MAEvD8C,gBAAiB,CAACd,EAAOS,IACzBM,YAAa,CAAC,iBACdC,YAAa,IAGjB,MAAO,CAACC,SAAUhB,2DC6MLiB,cApRb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAd,OAAAe,EAAA,EAAAf,CAAAgB,KAAAJ,IACjBE,EAAAd,OAAAiB,EAAA,EAAAjB,CAAAgB,KAAAhB,OAAAkB,EAAA,EAAAlB,CAAAY,GAAAO,KAAAH,KAAMH,KAqDRO,kBAAoB,SAACC,GAAD,OAAU,SAACC,GAC7B,IAAIvB,EAAQsB,EAAKtB,MAAM,OACnBwB,EDkBR,SAAqBF,GACnB,OAAOA,EAAKjB,cACTL,MAAM,KACNyB,IAAI,SAACC,GAAD,OAAOA,EAAEC,OAAO,GAAGC,cAAgBF,EAAEG,UAAU,KACnDC,KAAK,KCtBMC,CAAY/B,EAAM,IAE1BgC,EDuBR,SAA+BC,GAE7B,IADA,IAAIC,EAAM,GACDvE,EAAE,EAAGA,EAAEsE,EAAQrE,OAAQD,IAAK,CACnC,IAAIwE,EAAMF,EAAQtE,GAAGoC,OACrBmC,EAAI5B,KAAK6B,EAAIR,OAAO,GAAGC,cAAgBO,EAAIC,MAAM,IAEnD,OAAOF,EC7BaG,CAAsBrC,EAAMoC,MAAM,GAAG,IAAIN,KAAK,MAAQ,IACxEf,EAAKuB,SAAS,CACZC,WAAW,EACXf,MAAOA,EACPF,KAAMU,IAERT,EAAMiB,mBAhEWzB,EA8EnB0B,gBAAkB,SAACjB,EAAOQ,GAAR,OAAwB,SAACT,GACzC,IAAImB,EAAQ3B,EAAK4B,MAAMD,MACnBA,EAAME,IAAIpB,GACZkB,EAAMG,OAAOrB,GAEbkB,EAAMI,IAAItB,EAAOQ,GAEnBjB,EAAKuB,SAAS,CACZI,MAAOA,IAETnB,EAAMiB,mBAtFNzB,EAAK4B,MAAQ,CACXI,MAAO,GACPpD,OAAQoB,EAAKiC,eAAe,IAC5BC,WAAW,EACXzC,KAAM,GACN0C,UAAW,GACXX,WAAW,EACXf,MAAO,GACPF,KAAM,GACNoB,MAAO,IAAIS,KAGbpC,EAAKqC,aAAerC,EAAKqC,aAAaC,KAAlBpD,OAAAqD,EAAA,EAAArD,CAAAc,IACpBA,EAAKwC,aAAgBxC,EAAKwC,aAAaF,KAAlBpD,OAAAqD,EAAA,EAAArD,CAAAc,IACrBA,EAAKM,kBAAoBN,EAAKM,kBAAkBgC,KAAvBpD,OAAAqD,EAAA,EAAArD,CAAAc,IACzBA,EAAKyC,WAAazC,EAAKyC,WAAWH,KAAhBpD,OAAAqD,EAAA,EAAArD,CAAAc,IAClBA,EAAK0B,gBAAkB1B,EAAK0B,gBAAgBY,KAArBpD,OAAAqD,EAAA,EAAArD,CAAAc,IAlBNA,4EAwBNQ,GACXN,KAAKqB,SAAS,CAACS,MAAOxB,EAAMkC,OAAOV,6CAGxBxB,GAAO,IAAAmC,EAAAzC,KACZ0C,EAAM1C,KAAK0B,MAAMI,MACnBpD,EAASsB,KAAK+B,eAAeW,GACjCC,IAAMC,IAAN,gDAAAC,OAA0D7C,KAAK0B,MAAMI,QAClEgB,KAAK,SAAAC,GACJ,IAAMxD,EAAOwD,EAAIxD,KAAKA,KAChByD,EAAeD,EAAIxD,KAAKyD,aAC9BP,EAAKpB,SAAS,CACZ9B,KAAMkD,EAAKQ,WAAW1D,EAAMyD,GAE5BhB,WAAW,EACXtD,OAAQA,EACRuD,UAAWS,EACXpB,WAAW,EACX4B,KAAM,KAEJ3D,IAAS,IACXkD,EAAKpB,SAAS,CACZW,WAAW,MAInB1B,EAAMiB,oDAkBGjB,GACTN,KAAKqB,SAAS,CACZC,WAAW,EACXf,MAAO,GACPF,KAAM,KAERC,EAAMiB,uDAiBMhB,GAEZ,OADYP,KAAK0B,MAAMD,MACbE,IAAIpB,GACL,UAEA,+CAIEA,EAAOQ,GAClB,GAAc,KAAVR,EACF,OACE4C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEpF,QAAS8B,KAAKwB,gBAAgBjB,EAAOQ,GACrCwC,QAASvD,KAAKwD,cAAcjD,GAC5BkD,OAAO,UAEPN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAWC,MAAM,kDAMT,IAAAC,EAAA5D,KACVyB,EAAQzB,KAAK0B,MAAMD,MACnBoC,EAAW,GAFDC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAGd,QAAAC,EAAAC,EAAmB1C,EAAnB2C,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAA0B,KAAAU,EAAAN,EAAApC,MAAA2C,EAAAzF,OAAA0F,EAAA,EAAA1F,CAAAwF,EAAA,GAAhBG,EAAgBF,EAAA,GAAbG,EAAaH,EAAA,GACxBZ,EAASxE,KAAK,CACZkB,MAASoE,EACT5D,YAAe6D,KANL,MAAAC,GAAAd,GAAA,EAAAC,EAAAa,EAAA,YAAAf,GAAA,MAAAK,EAAAW,QAAAX,EAAAW,SAAA,WAAAf,EAAA,MAAAC,GAUd,IAAIe,EAAI,EACR,OACE5B,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,WACb7B,EAAAC,EAAAC,cAAC4B,EAAA,MAAD,CAAMC,MAAQ,OACd/B,EAAAC,EAAAC,cAAA,MAAI2B,UAAU,kBAEVnB,EAASrD,IAAI,SAAA2E,GAAC,OACZhC,EAAAC,EAAAC,cAAA,MAAItG,IAAKgI,KAEP5B,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,QACZpB,EAAKwB,aAAaD,EAAE5E,MAAO4E,EAAEpE,cAEhCoC,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,eACb7B,EAAAC,EAAAC,cAAA,KAAG2B,UAAU,UAAU9G,QAAS0F,EAAKxD,kBAAkB+E,EAAEpE,cAAeoE,EAAE5E,OAC1E4C,EAAAC,EAAAC,cAAA,SAAI8B,EAAEpE,YAAYlC,QAAQ,0BAA0B,cAEtDsE,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,wDAWb,IAAAK,EAAArF,KACd,OAA+B,IAA3BA,KAAK0B,MAAMnC,KAAK5C,OAElBwG,EAAAC,EAAAC,cAAA,MAAI2B,UAAU,kBACZ7B,EAAAC,EAAAC,cAAA,MAAItG,IAAK,GACPoG,EAAAC,EAAAC,cAAA,WAAS2B,UAAU,aACjB7B,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,YACb7B,EAAAC,EAAAC,cAAA,SAAI,wBAOVrD,KAAK0B,MAAMJ,UAEX6B,EAAAC,EAAAC,cAAA,MAAI2B,UAAU,kBAEVhF,KAAK0B,MAAMnC,KAAKiB,IAAI,SAAA2E,GAAC,OACnBhC,EAAAC,EAAAC,cAAA,MAAItG,IAAKoI,EAAE5I,IACX4G,EAAAC,EAAAC,cAAA,WAAS2B,UAAU,aACjB7B,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,QACZK,EAAKD,aAAaD,EAAE5E,MAAO4E,EAAEpE,cAEhCoC,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,OACb7B,EAAAC,EAAAC,cAAA,KAAG2B,UAAU,UAAU9G,QAASmH,EAAKjF,kBAAkB+E,EAAEpE,cAAeoE,EAAE5E,OAC1E4C,EAAAC,EAAAC,cAAA,SAAI8B,EAAEpE,YAAYlC,QAAQ,0BAA0B,cAEtDsE,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,OACb7B,EAAAC,EAAAC,cAACiC,EAAA,EAAD,CAAe/F,KAAMf,EAAc6G,EAAK3D,MAAMO,UAAWkD,EAAEtI,QAAQwI,EAAK3D,MAAMhD,QAAS6G,QAASjJ,EAAW6I,EAAE5I,GAAI8I,EAAK3D,MAAMnC,MAAO2F,MAAO,GAAIM,QD3I7IjJ,EC2I+J4I,EAAE5I,GD1IrK,IAAPA,EACO,IAEA,OCyIC4G,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,YD7I/B,IAAmBzI,KCsJX4G,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,kBACb7B,EAAAC,EAAAC,cAAA,UAAQnF,QAAS8B,KAAKuC,YAAtB,QAGAY,EAAAC,EAAAC,cAAA,UAAKrD,KAAK0B,MAAMnB,OAChB4C,EAAAC,EAAAC,cAAA,SAAIrD,KAAK0B,MAAMrB,0CAKZd,EAAMyD,GACf,IAAIyC,EAAUlG,EACVmG,EAAU,GACVnJ,EAAK,EACLoJ,EAAW,GAGXC,EAAS,EACb,IAAK,IAAI7I,KAAO0I,EAAS,CACvB,IAAI5I,EAAU4I,EAAQ1I,GAClBD,EAAM,EACV,IAAK,IAAI+I,KAAKhJ,EACZA,EAAQgJ,GAAK7I,KAAKC,IAAID,KAAKE,MAAM,IAAIL,EAAQgJ,IAAI,KACjD/I,GAAOD,EAAQgJ,GAEjBF,EAAStG,KAAK,CAACtC,EAAKD,EAAKkG,EAAa4C,KACtCA,IAIFD,EAASG,KAAK,SAAS1C,EAAG2C,GACxB,OAAOA,EAAE,GAAK3C,EAAE,KAElB,IAAK,IAAI1G,EAAE,EAAGA,EAAEiJ,EAAShJ,OAAQD,IAC/BgJ,EAAQrG,KAAK,CACX9C,GAAMA,IACNgE,MAASoF,EAASjJ,GAAG,GACrBqE,YAAe4E,EAASjJ,GAAG,GAC3BG,QAAW4I,EAAQE,EAASjJ,GAAG,MAUnC,OANAgJ,EAAQM,QAAQ,CACdzJ,GAAM,EACNgE,MAAS,GACTQ,YAAe,GACflE,QAAW,KAEN6I,yCAIMjH,GACb,IAAIwH,EAAO,GAEPC,EADazH,EAAMW,cACAL,MAAM,KAC7BmH,EAAKlH,OAAAC,EAAA,EAAAD,CAAO,IAAIE,IAAIgH,IACpB,IAAI,IAAIxJ,EAAI,EAAGA,EAAEwJ,EAAMvJ,OAAQD,IAAK,CAClC,IAAIyI,EAAInI,KAAKE,MAAsB,IAAhBF,KAAKmJ,UACpBC,EAAIpJ,KAAKE,MAAsB,IAAhBF,KAAKmJ,UACpBJ,EAAI/I,KAAKE,MAAsB,IAAhBF,KAAKmJ,UACxBF,EAAKC,EAAMxJ,IAAM,QAAUyI,EAAI,IAAMiB,EAAI,IAAML,EAAI,MAErD,OAAOE,mCAIP,OACE9C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,UACb7B,EAAAC,EAAAC,cAAA,QAAMgD,SAAUrG,KAAKsC,cACnBa,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,SAAOiD,KAAK,OAAOxE,MAAO9B,KAAK0B,MAAMI,MAAOyE,SAAUvG,KAAKmC,aAAcqE,MAAO,CAACtB,MAAO,QAASM,OAAQ,WAE3GrC,EAAAC,EAAAC,cAAA,SAAOiD,KAAK,SAASxE,MAAM,SAAS0E,MAAO,CAACtB,MAAO,OAAQM,OAAQ,YAGtExF,KAAKyG,gBACLzG,KAAK0B,MAAMM,WAAahC,KAAK0G,wBA9QdC,IAAMC,eCqGfC,cA/Fb,SAAAA,EAAYhH,GAAO,IAAAC,EAAA,OAAAd,OAAAe,EAAA,EAAAf,CAAAgB,KAAA6G,IACjB/G,EAAAd,OAAAiB,EAAA,EAAAjB,CAAAgB,KAAAhB,OAAAkB,EAAA,EAAAlB,CAAA6H,GAAA1G,KAAAH,KAAMH,KACDiH,YAAchH,EAAKgH,YAAY1E,KAAjBpD,OAAAqD,EAAA,EAAArD,CAAAc,IACnBA,EAAKiH,UAAY,KACjBjH,EAAKkH,IAAML,IAAMM,YACjBnH,EAAKvD,GAAK,KACVuD,EAAKoH,QAAU,KANEpH,mFAUjB,IAAIqH,EArBR,SAA4BC,EAAMC,GAC3BA,IAAKA,EAAMC,OAAOC,SAASC,MAChCJ,EAAOA,EAAKvI,QAAQ,UAAW,QAC/B,IACErC,EADU,IAAIiL,OAAO,OAASL,EAAO,qBACrBM,KAAKL,GACvB,OAAK7K,EACAA,EAAQ,GACNmL,mBAAmBnL,EAAQ,GAAGqC,QAAQ,MAAO,MAD5B,GADH,KAgBF+I,CAAmB,UAAWN,OAAOC,SAASC,MAC7C,MAAdL,GACFU,MAAM,WAAaV,EAAa,qEAGf,IAAA1E,EAAAzC,KACf+G,EAAY,IAAIe,KAChBvL,EAAK,OACL2K,EAAUlH,KAAK4H,mBAAmB,WACtCjF,IAAMC,IAAN,mCACCE,KAAK,SAAAC,GACJxG,EAAKwG,EAAIxD,KACTkD,EAAKpB,SAAS,CACZ0F,UAAWA,EACXxK,GAAIA,EACJ2K,QAASA,MAGba,QAAQC,IAAIjB,EAAWxK,EAAI2K,8CAEVE,EAAMC,GAClBA,IAAKA,EAAMC,OAAOC,SAASC,MAChCJ,EAAOA,EAAKvI,QAAQ,UAAW,QAC/B,IACErC,EADU,IAAIiL,OAAO,OAASL,EAAO,qBACrBM,KAAKL,GACvB,OAAK7K,EACAA,EAAQ,GACNmL,mBAAmBnL,EAAQ,GAAGqC,QAAQ,MAAO,MAD5B,GADH,yCAKXyB,GAuBV,GAAIgH,OAAOW,QAAQ,6GAA8G,CAC/H,IAAI1L,EAAKyD,KAAK0B,MAAMnF,GAChB2L,EAAW,IAAIJ,KACfK,EAAOnL,KAAKC,IAAIiL,EAAWlI,KAAK0B,MAAMqF,WACtCtF,EAAQ2G,MAAMC,KAAKrI,KAAKgH,IAAIsB,QAAQ5G,MAAMD,OAC1CyF,EAAUlH,KAAK0B,MAAMwF,QACrBqB,EAAO,CACThM,GAAIA,EACJkF,MAAOA,GAETkB,IAAM6F,KAAN,qCAAiDD,GAChDzF,KAAK,SAAAC,GAENuE,OAAOC,SAAP,cAAA1E,OAAgCtG,EAAhC,UAAAsG,OAA2CsF,EAA3C,aAAAtF,OAA2DqE,KAI7D5G,EAAMiB,kDAGN,OACE4B,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,OACb7B,EAAAC,EAAAC,cAAA,MAAI2B,UAAU,SAAd,iBACA7B,EAAAC,EAAAC,cAAA,UAAQnF,QAAS8B,KAAK8G,aAAtB,uBACA3D,EAAAC,EAAAC,cAACoF,EAAD,CAAWzB,IAAKhH,KAAKgH,cAxFXL,IAAMC,WCLJ8B,QACW,cAA7BpB,OAAOC,SAASoB,UAEe,UAA7BrB,OAAOC,SAASoB,UAEhBrB,OAAOC,SAASoB,SAASC,MACvB,2DCVNC,IAASC,OAAO3F,EAAAC,EAAAC,cAAC0F,EAAD,MAASC,SAASC,eAAe,SDmH3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMtG,KAAK,SAAAuG,GACjCA,EAAaC","file":"static/js/main.2dbc4ef8.chunk.js","sourcesContent":["function getOptions(id, results) {\n    var maxFound = 0.0;\n    for (var i=0; i<results.length; i++) {\n        var result = results[i].weights;\n        var tot = 0.0;\n        for (var key in result) {\n        tot += result[key];\n        tot += Math.abs(Math.round(100*result[key])/100)\n\n        }\n        maxFound = Math.max(maxFound, tot);\n    }\n    \n    \n    var opts = {\n      scales: {\n        xAxes: [{\n          stacked: true,\n          // ticks: {beginAtZero:true,max:tot, autoskip: true},\n          ticks: {beginAtZero:true,max:Math.ceil(maxFound), display: false},\n        // ticks: {beginAtZero:true,max:20, display: false},\n          gridLines: {\n            display: false,\n            show: false,\n            color: 'transparent'\n          },\n        }],\n        yAxes: [{\n            stacked: true,\n            gridLines: {\n                display: false,\n                show: false,\n                color: 'transparent'\n              },\n        }]\n      },\n      maintainAspectRatio: false,\n      legend: {\n        display: false,\n        onClick: (e) => e.stopPropagation()\n      },\n      tooltips: {\n          enabled: true,\n          mode: 'nearest'\n      },\n    }\n    if (id === 0) {\n        opts.legend.display = true;\n    }\n    return opts;\n  }\n  \nfunction getHeight(id) {\n    if (id === 0) {\n        return 100;\n    } else {\n        return 55;\n    }\n}\n\nfunction createDataSet(query, weights, colors) {\n  var barData = [];\n  var stripQuery = query.replace(/\\b[-.,()&$#?!\\]{}\"']+\\B|\\B[-.,()&$#!?\\]{}\"']+\\b/g, \"\");\n  // console.log(\"STRIPPED\", stripQuery);\n  var splitQuery = stripQuery.trim().split(\" \");\n  splitQuery = [...new Set(splitQuery)]; \n  for(var i=0; i<splitQuery.length; i++) {\n    if (splitQuery[i] === \" \" || splitQuery[i] === \"\") {\n      continue;\n    }\n    // console.log(\"WORD\", splitQuery[i]);\n    // var lowerKey = key.toLowerCase();\n    var lowerKey = splitQuery[i].toLowerCase();\n    barData.push({\n      label: lowerKey,\n      data: [Math.abs(Math.round(100*weights[splitQuery[i]])/100)],\n      // data: [weights[splitQuery[i]]],\n      backgroundColor: [colors[lowerKey]],\n      borderColor: ['rgba(0,0,0,0)',],\n      borderWidth: 2,\n    })\n  }\n  return {datasets: barData};\n}\n\nfunction toTitleCase(text) {\n  return text.toLowerCase()\n    .split(' ')\n    .map((s) => s.charAt(0).toUpperCase() + s.substring(1))\n    .join(' ');\n}\n\nfunction capitalizeFirstLetter(strings) {\n  var arr = [];\n  for (var i=0; i<strings.length; i++) {\n    var str = strings[i].trim()\n    arr.push(str.charAt(0).toUpperCase() + str.slice(1));\n  }\n  return arr;\n}\n\n\nexport { getOptions, getHeight, createDataSet, toTitleCase , capitalizeFirstLetter}\n","import React from 'react';\n// import Suggestions from './Suggestions';\nimport {HorizontalBar} from 'react-chartjs-2';\nimport {getOptions, getHeight, createDataSet, toTitleCase, capitalizeFirstLetter} from './Util';\nimport axios from 'axios'\nimport './Styles.css';\nimport { Button, Glyphicon } from 'react-bootstrap';\nimport { slide as Menu } from 'react-burger-menu'\n// import SideBar from './SideBar';\n\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      colors: this.getRandomColor(\"\"),\n      submitted: false,\n      data: [],\n      lastQuery: \"\",\n      isResults: true,\n      title: \"\",\n      text: \"\",\n      links: new Map()\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit =  this.handleSubmit.bind(this);\n    this.handleDescription = this.handleDescription.bind(this);\n    this.handleBack = this.handleBack.bind(this);\n    this.handleFavorites = this.handleFavorites.bind(this);\n  }\n\n  // componentDidMount() {\n  // }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleSubmit(event) {\n    const val = this.state.value;\n    var colors = this.getRandomColor(val)\n    axios.get(`https://ir-sim-api.herokuapp.com/search?name=${this.state.value}`)\n      .then(res => {\n        const data = res.data.data;\n        const descriptions = res.data.descriptions\n        this.setState({ \n          data: this.updateJson(data, descriptions),\n          // value: \"\",\n          submitted: true,\n          colors: colors,\n          lastQuery: val,\n          isResults: true,\n          desc: \"\"\n        });\n        if (data === {}) {\n          this.setState({\n            submitted: false\n          })\n        }\n      })\n    event.preventDefault();\n  }\n\n\n  handleDescription = (text) => (event) => {\n    var split = text.split(\" . \");\n    var title = toTitleCase(split[0]);\n    // var title = split[0];\n    var description = capitalizeFirstLetter(split.slice(2,-1)).join(\". \") + \".\";\n    this.setState({\n      isResults: false,\n      title: title,\n      text: description,\n    })\n    event.preventDefault();\n  }\n\n  //go back to main search results\n  handleBack(event) {\n    this.setState({\n      isResults: true,\n      title: \"\",\n      text: \"\"\n    })\n    event.preventDefault();\n  }\n\n  //add favorite links\n  handleFavorites = (title, description) => (event) => {\n    var links = this.state.links;\n    if (links.has(title)) {\n      links.delete(title);\n    } else {\n      links.set(title, description);\n    }\n    this.setState({\n      links: links\n    });\n    event.preventDefault();\n  }\n\n  getStarStyles(title) {\n    var links = this.state.links;\n    if (links.has(title)) {\n      return 'warning';\n    } else { \n      return 'primary';\n    }\n  }\n  \n  renderButton(title, description) {\n    if (title !== \"\") {\n      return(\n        <Button\n          onClick={this.handleFavorites(title, description)}\n          bsStyle={this.getStarStyles(title)}\n          bsSize=\"xsmall\"\n        >\n          <Glyphicon glyph=\"star\" />\n        </Button>\n      );\n    }\n  }\n\n  renderSideBar() {\n    var links = this.state.links;\n    var newLinks = []\n    for (let [k, v] of links) {\n      newLinks.push({\n        \"title\": k,\n        \"description\": v\n      })\n    }\n\n    var j = 0;\n    return (\n      <div className=\"sidebar\">\n        <Menu width={ '75%' }>\n        <ul className=\"search-results\">\n          {\n            newLinks.map(r => (\n              <li key={j++}>\n              {/* <section className=\"container\"> */}\n                <div className=\"star\">\n                  {this.renderButton(r.title, r.description)}\n                </div>\n                <div className=\"one-sidebar\">\n                  <p className=\"results\" onClick={this.handleDescription(r.description)}>{r.title}</p>\n                  <p>{r.description.replace(/(([^\\s]+\\s\\s*){40})(.*)/,\"$1…\") /* first 50 words*/}</p> \n                </div>\n                <div className=\"clear\"></div>\n              {/* </section>    */}\n              </li>\n            ))\n          }\n          </ul>\n        </Menu>\n      </div>\n    )\n  }\n\n  renderResults() {\n    if (this.state.data.length === 1) {\n      return (\n      <ul className=\"search-results\">\n        <li key={0}>\n          <section className=\"container\">\n            <div className=\"noResult\">\n              <p>{\"No results found\"}</p>\n            </div>\n          </section>\n        </li>\n      </ul>\n      )\n    }\n    if (this.state.isResults){\n      return (\n        <ul className=\"search-results\">\n          {\n            this.state.data.map(r => (\n              <li key={r.id}>\n              <section className=\"container\">\n                <div className=\"star\">\n                  {this.renderButton(r.title, r.description)}\n                </div>\n                <div className=\"one\">\n                  <p className=\"results\" onClick={this.handleDescription(r.description)}>{r.title}</p>\n                  <p>{r.description.replace(/(([^\\s]+\\s\\s*){40})(.*)/,\"$1…\") /* first 50 words*/}</p> \n                </div>\n                <div className=\"two\">\n                  <HorizontalBar data={createDataSet(this.state.lastQuery, r.weights,this.state.colors)} options={getOptions(r.id, this.state.data)} width={.1} height={getHeight(r.id)}/>\n                </div>\n                <div className=\"clear\"></div>\n              </section>   \n              </li>\n            ))\n          }\n          </ul>\n      )\n    } else {\n      return(\n        <div className=\"text-container\">\n          <button onClick={this.handleBack}>\n            Back\n          </button>\n          <h3>{this.state.title}</h3>\n          <p>{this.state.text}</p> \n        </div>\n      )\n    }\n  }\n  updateJson(data, descriptions) {\n    var oldData = data;\n    var newData = [];\n    var id = 1;\n    var sortable = [];\n\n    //sort based on highest values\n    var key_id = 0;\n    for (var key in oldData) {\n      var weights = oldData[key];\n      var tot = 0.0;\n      for (var w in weights) {\n        weights[w] = Math.abs(Math.round(100*weights[w])/100)\n        tot += weights[w];\n      }\n      sortable.push([key, tot, descriptions[key_id]]);\n      key_id++;\n    }\n\n    //sort based on weights\n    sortable.sort(function(a, b) {\n      return b[1] - a[1];\n    });\n    for (var i=0; i<sortable.length; i++) {\n      newData.push({\n        \"id\": id++,\n        \"title\": sortable[i][0],\n        \"description\": sortable[i][2],\n        \"weights\": oldData[sortable[i][0]]\n      })\n    }\n    //insert empty index for first index\n    newData.unshift({\n      \"id\": 0,\n      \"title\": \"\",\n      \"description\": \"\",\n      \"weights\": {}\n    })\n    return newData;\n  }\n\n  //get random colors for bar graph\n  getRandomColor(query) {\n    var dict = {};\n    var splitQuery = query.toLowerCase();\n    var words = splitQuery.split(\" \");\n    words = [...new Set(words)]; \n    for(var i = 0; i<words.length; i++) {\n      var r = Math.round(Math.random() * 255);\n      var g = Math.round(Math.random() * 255);\n      var b = Math.round(Math.random() * 255);\n      dict[words[i]] = 'rgba(' + r + ',' + g + ',' + b + ',1)';\n    }\n    return dict;\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"search\">\n          <form onSubmit={this.handleSubmit}>\n            <label>\n              <input type=\"text\" value={this.state.value} onChange={this.handleChange} style={{width: \"400px\", height: \"25px\"}}/>\n            </label>\n            <input type=\"submit\" value=\"Search\" style={{width: \"75px\", height: \"25px\"}}/>\n          </form>\n        </div>\n        {this.renderSideBar()}\n        {this.state.submitted && this.renderResults()}\n      </div>\n      \n    );\n  }\n}\n\nexport default SearchBar;","import React from 'react';\nimport SearchBar from './components/SearchBar';\nimport './components/Styles.css';\nimport axios from 'axios'\n\nfunction getParameterByName(name, url) {\n  if (!url) url = window.location.href;\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n    results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n    this.startTime = null;\n    this.ref = React.createRef();\n    this.id = null;\n    this.session = null;\n  }\n\n  componentDidMount() {\n    var numCorrect = getParameterByName(\"correct\", window.location.href);\n    if (numCorrect != null) {\n      alert(\"You got \" + numCorrect + \" question(s) correct\")\n    }\n  }\n  componentWillMount() {\n    var startTime = new Date();\n    var id = 'none';\n    var session = this.getParameterByName('session');\n    axios.get(`https://ir-sim.herokuapp.com/id`)\n    .then(res => {\n      id = res.data;\n      this.setState({\n        startTime: startTime,\n        id: id,\n        session: session\n      })\n    })\n    console.log(startTime, id, session);\n  }\n  getParameterByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\n    var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n      results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n  }\n\n  handleClick(event) {\n    // var id = 'none';\n    // axios.get(`https://ir-sim.herokuapp.com/id`)\n    // .then(res => {\n    //   id = res.data;\n    //   var currTime = new Date();\n    //   var diff = Math.abs(currTime - this.state.startTime)\n    //   var links = Array.from(this.ref.current.state.links);\n    //   var body = {\n    //     id: id,\n    //     links: links\n    //   }\n    //   console.log(links);\n    //   if (window.confirm(\"Are you finished with the study? (After you hit confirm, you are not allowed to return back to this page)\")) {\n    //     console.log(body)\n    //     axios.post(`https://ir-sim.herokuapp.com/links`, body)\n    //     .then(res => {\n        \n    //     window.location = `/exit-form?id=${id}&time=${diff}`;\n    //     })\n    //   }\n    // })\n\n    if (window.confirm(\"Are you finished with the study? (After you hit confirm, you are not allowed to return back to this page)\")) {\n      var id = this.state.id;\n      var currTime = new Date();\n      var diff = Math.abs(currTime - this.state.startTime)\n      var links = Array.from(this.ref.current.state.links);\n      var session = this.state.session;\n      var body = {\n        id: id,\n        links: links\n      }\n      axios.post(`https://ir-sim.herokuapp.com/links`, body)\n      .then(res => {\n      \n      window.location = `/verify?id=${id}&time=${diff}&session=${session}`;\n      })\n    }\n    \n    event.preventDefault();\n  }\n  render() {\n    return (\n      <div className=\"app\">\n        <h1 className=\"title\">Search Engine</h1>\n        <button onClick={this.handleClick}>Finished with Study</button>\n        <SearchBar ref={this.ref}/>\n      </div>\n\n    );\n  }\n  \n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}